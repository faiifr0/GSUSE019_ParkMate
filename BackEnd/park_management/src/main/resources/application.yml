# application.yml (dev stays exactly as you have it)
server:
  port: 8080

spring:
  profiles:
    active: dev
  datasource:
    url: jdbc:postgresql://localhost:5432/parkdb
    username: park
    password: your_password
  jpa:
    hibernate:
      ddl-auto: update   # dev only; use migrations for prod
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${SMTP_USERNAME:}
    password: ${SMTP_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

logging:
  level:
    org.springframework.security: DEBUG

# Prefer ENV VARS for secrets in real environments, but kept as-is per your request
PAYOS_CLIENT_ID: c2fbf473-2403-4441-9b9a-aec78cf39a82
PAYOS_API_KEY: 76675f43-a3cf-4311-a7f0-8316fd8ea3a9
PAYOS_CHECKSUM_KEY: e1b57c7e9f9aa99aca0322c01a8e42cc2aa8278cd0400bab13036c6c2d92fd6b

jwt:
  secret: change-me-very-long-random-string-at-least-32-bytes-11111111111111111111111
  expire-time: 86400
  issuer: change-me-issuer

gemini:
  api-key: AIzaSyDL4bvKRy3qkJz0HjihQg3PckjbU-3pb5U    # kept as-is
  model: gemini-2.0-flash

app:
  internal-topup-confirm-url: http://localhost:8080/api/local/topups/confirm
  webhook:
    base-url: "https://gsuse019-parkmate-8c7n.onrender.com"  # kept as-is
    path: /api/payment/payos/webhook
  mail:
    fromName: Park Management

---
# test profile (added) â€” uses in-memory H2 and quieter logging
spring:
  config:
    activate:
      on-profile: test
  datasource:
    url: jdbc:h2:mem:parkdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false
  h2:
    console:
      enabled: false

logging:
  level:
    root: WARN
    org.springframework: WARN
    org.hibernate.SQL: WARN
